{"version":3,"sources":["contexts/darkTheme.js","contexts/gameState.js","libs/helpers.js","components/button/button.js","components/icon/icon.js","components/select/select.js","components/menu/menu.js","components/score/score.js","libs/ai.js","components/cell/cell.js","components/game-grid/game-grid.js","components/status/status.js","components/game/game.js","components/app/app.js","serviceWorker.js","index.js"],"names":["createContext","GAME_STATE","IDLE","YOUR_TOURN","OPPONENTS_TURN","WIN","DEFEAT","DRAW","GAME_STATE_ACTION_TYPE","CHECK","RESET","RESET_SCORE","CHANGE_DIFFICULTY","GAME_DIFFICULTIES","EASY","MEDIUM","HARD","defaultValue","score","you","opponent","round","board","a1","b1","c1","a2","b2","c2","a3","b3","c3","winnerCells","state","difficulty","localStorage","getItem","dispatcher","action","type","payload","Error","Object","keys","indexOf","target","value","newState","_objectSpread","result","isEqual","x","y","z","winner","cells","checkResult","won","lost","draw","map","k","setItem","Button","_ref","id","onClick","children","ariaLabel","primary","react_default","a","createElement","className","aria-label","defaultProps","undefined","ICON","dropdown","d","menu","o","Icon","color","size","ariaHidden","xmlns","viewBox","style","fill","width","height","aria-hidden","Select","onChange","name","options","find","label","icon","_ref2","key","Menu","onClose","_useContext","useContext","DarkThemeContext","_useContext2","slicedToArray","darkTheme","setDarkTheme","_useContext3","GameStateContext","_useContext4","gameState","dispatchGameState","animateToClose","container","document","querySelector","classList","remove","add","addEventListener","once","onEscPressed","evt","focusOnContainer","focus","useEffect","window","removeEventListener","contains","tabIndex","onFocus","components_button_button","onSubmit","preventDefault","htmlFor","defaultChecked","components_select_select","confirm","location","reload","Score","_useState","useState","_useState2","oScore","setOScore","_useState3","_useState4","xScore","setXScore","_gameState$score","$n","getElementById","concat","transitionEnd","then","$el","Promise","resolve","ai","chance","Math","random","willUseAI","imminentWin","isImminentWin","xCellname","yCellname","zCellname","nOfX","nOfNull","c","possibilities","filter","p","length","floor","checkImminentWin","imminentDanger","isImminentDanger","nOfO","preventImminentDanger","possibleWin","isPossibleWin","checkPossibleWin","middle","checkTheMiddle","emptyCells","getRandomCell","Cell","disabled","opaque","Boolean","GameGrid","play","setTimeout","disabledGrid","someonesVictory","cell_cell","Status","reset","phrase","Game","score_score","game_grid_game_grid","components_status_status","App","setMenu","_useState5","_useState6","noOutlines","setNoOutlines","_useReducer","useReducer","gameStateDispatcher","gameStateDefaultValue","_useReducer2","disableOutlines","onTabPress","body","backgroundColor","removeItem","contexts_darkTheme","Provider","contexts_gameState","components_menu_menu","toggleDarkTheme","game_game","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","app_app","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1b88cd52.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport default createContext(false);;","import { createContext } from 'react';\nimport { checkResult } from '../libs/helpers';\n\nexport const GAME_STATE = {\n  IDLE: 'IDLE',\n  YOUR_TOURN: 'YOUR_TURN',\n  OPPONENTS_TURN: 'OPPONENTS_TURN',\n  WIN: 'WIN',\n  DEFEAT: 'DEFEAT',\n  DRAW: 'DRAW',\n};\n\nexport const GAME_STATE_ACTION_TYPE = {\n  CHECK: 'CHECK',\n  RESET: 'RESET',\n  RESET_SCORE: 'RESET_SCORE',\n  CHANGE_DIFFICULTY: 'CHANGE_DIFFICULTY',\n};\n\nexport const GAME_DIFFICULTIES = {\n  EASY: 'EASY',\n  MEDIUM: 'MEDIUM',\n  HARD: 'HARD',\n};\n\nexport const defaultValue = {\n  score: {\n    you: 0,\n    opponent: 0,\n  },\n  round: 0,\n  board: {\n    a1: null, b1: null, c1: null,\n    a2: null, b2: null, c2: null,\n    a3: null, b3: null, c3: null,\n  },\n  winnerCells: [],\n  state: GAME_STATE.IDLE,\n  difficulty: localStorage.getItem('difficulty') || GAME_DIFFICULTIES.HARD,\n};\n\nexport const dispatcher = (state, action) => {\n  switch (action.type) {\n\n    case GAME_STATE_ACTION_TYPE.CHECK:\n    {\n    // Validate payload\n    // Scheme { target: String, value: String }\n    if (!action.payload) throw new Error('payload is required');\n    if (Object.keys(defaultValue.board).indexOf(action.payload.target) === -1) throw new Error('payload.target has unexpected value');\n    if (['x', 'o'].indexOf(action.payload.value) === -1) throw new Error('payload.value is invalid. It expects `x` or `o`');\n    if (state.board[action.payload.target] !== null) throw new Error('target is not empty');\n    \n      const newState = {...state};\n      newState.board[action.payload.target] = action.payload.value;\n      newState.round += 1;\n\n      if (action.payload.value === 'o') newState.state = GAME_STATE.OPPONENTS_TURN;\n      if (action.payload.value === 'x') newState.state = GAME_STATE.YOUR_TOURN;\n\n      const result = checkResult(newState.board);\n      const won = result && result.winner === 'o';\n      const lost = result && result.winner === 'x';\n      const draw = !result && newState.round === 9;\n\n      if (won || lost) {\n        newState.winnerCells = result.cells;\n      }\n\n      if (won) {\n        newState.score.you += 1;\n        newState.state = GAME_STATE.WIN;\n      }\n\n      if (lost) {\n        newState.score.opponent += 1;\n        newState.state = GAME_STATE.DEFEAT;\n      }\n\n      if (draw) newState.state = GAME_STATE.DRAW;\n\n      return newState;\n    }\n\n    case GAME_STATE_ACTION_TYPE.RESET:\n    {\n      const newState = {...state};\n      newState.round = 0;\n      newState.board = {\n        a1: null, b1: null, c1: null,\n        a2: null, b2: null, c2: null,\n        a3: null, b3: null, c3: null,\n      };\n      newState.state = GAME_STATE.IDLE;\n      newState.winnerCells = [];\n      return newState;\n    }\n\n    case GAME_STATE_ACTION_TYPE.RESET_SCORE:\n    {\n      const newState = {...state};\n      newState.score = defaultValue.score;\n      return newState;\n    }\n\n    case GAME_STATE_ACTION_TYPE.CHANGE_DIFFICULTY:\n    {\n      // Validate Payload\n      const validPayloads = Object\n        .keys(GAME_DIFFICULTIES)\n        .map(k => GAME_DIFFICULTIES[k]);\n      \n      if (validPayloads.indexOf(action.payload) === -1) {\n        throw new Error('Invalid payload');\n      }\n\n      localStorage.setItem('difficulty', action.payload);\n      \n      const newState = {...state};\n      newState.difficulty = action.payload;\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default createContext();\n","export function checkResult(board) {\n  const {\n    a1, b1, c1,\n    a2, b2, c2,\n    a3, b3, c3,\n  } = board;\n\n  function isEqual(x, y, z) {\n    if (x === null\n      || y === null\n      || z === null) return false;\n    return x === y && x === z;\n  }\n\n  if (isEqual(a1, b1, c1)) return {\n    winner: a1,\n    cells: ['a1', 'b1', 'c1'],\n  };\n\n  if (isEqual(a2, b2, c2)) return {\n    winner: a2,\n    cells: ['a2', 'b2', 'c2'],\n  };\n\n  if (isEqual(a3, b3, c3)) return {\n    winner: a3,\n    cells: ['a3', 'b3', 'c3'],\n  };\n\n  if (isEqual(a1, a2, a3)) return {\n    winner: a1,\n    cells: ['a1', 'a2', 'a3'],\n  };\n\n  if (isEqual(b1, b2, b3)) return {\n    winner: b1,\n    cells: ['b1', 'b2', 'b3'],\n  };\n\n  if (isEqual(c1, c2, c3)) return {\n    winner: c1,\n    cells: ['c1', 'c2', 'c3'],\n  };\n\n  if (isEqual(a1, b2, c3)) return {\n    winner: a1,\n    cells: ['a1', 'b2', 'c3'],\n  };\n\n  if (isEqual(a3, b2, c1)) return {\n    winner: a3,\n    cells: ['a3', 'b2', 'c1'],\n  };\n\n  return null;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './button.css';\n\nfunction Button({\n  id,\n  onClick,\n  children,\n  \"aria-label\": ariaLabel,\n  primary,\n}) {\n  return (\n    <button\n      id={id}\n      onClick={onClick}\n      className={'button '\n        + (primary ? 'button--primary ' : '')}\n      aria-label={ariaLabel}\n    >\n      {children}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  id: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  primary: PropTypes.bool,\n  'aria-label': PropTypes.string,\n};\n\nButton.defaultProps = {\n  id: undefined,\n  'aria-label': undefined,\n  primary: false,\n}\n\nexport default Button;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ICON = {\n  dropdown: <path d=\"M128 192l128 128 128-128z\" />,\n  menu: <path d=\"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z\" />,\n  x: <path d=\"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z\"/>,\n  o: <path d=\"M256 48C141.601 48 48 141.601 48 256s93.601 208 208 208 208-93.601 208-208S370.399 48 256 48zm0 374.399c-91.518 0-166.399-74.882-166.399-166.399S164.482 89.6 256 89.6 422.4 164.482 422.4 256 347.518 422.399 256 422.399z\"/>,\n};\n\nfunction Icon({\n  type,\n  color,\n  size,\n  \"aria-hidden\": ariaHidden,\n}) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      style={{ fill: color, width: size, height: size }}\n      aria-hidden={ariaHidden}\n    >\n      {ICON[type]}\n    </svg>\n  )\n}\n\nIcon.propTypes = {\n  type: PropTypes.oneOf(Object.keys(ICON)),\n  color: PropTypes.string,\n  size: PropTypes.number,\n  'aria-hidden': PropTypes.bool,\n};\n\nIcon.defaultProps = {\n  color: 'var(--text-color)',\n  size: 16,\n  'aria-hidden': false,\n};\n\nexport default Icon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\nimport './select.css';\n\nfunction Select({\n  value,\n  onChange,\n  id,\n  name,\n  options,\n}) {\n  return (\n    <div className=\"select\">\n      <div\n        className=\"select__display\"\n        aria-hidden\n      >\n        {options.find(o => o.value === value).label}\n        <Icon type=\"dropdown\" />\n      </div>\n      <select\n        id={id}\n        name={name}\n        onChange={onChange}\n        defaultValue={value}\n        className=\"select__input\"\n      >\n        {options\n          .map(({\n            label,\n            value\n          }) => <option key={value} value={value}>{label}</option>)}\n      </select>\n    </div>\n  )\n}\n\nSelect.propTypes = {\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n      ]),\n      label: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default Select;","import React, { useEffect, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"../button/button\";\nimport Icon from \"../icon/icon\";\nimport Select from \"../select/select\";\nimport DarkThemeContext from \"../../contexts/darkTheme\";\nimport GameStateContext, {\n  GAME_DIFFICULTIES,\n  GAME_STATE_ACTION_TYPE\n} from \"../../contexts/gameState\";\nimport \"./menu.css\";\n\nfunction Menu({ onClose }) {\n  const [darkTheme, setDarkTheme] = useContext(DarkThemeContext);\n  const [gameState, dispatchGameState] = useContext(GameStateContext);\n\n  function animateToClose() {\n    const container = document.querySelector(\".menu__container\");\n    container.classList.remove(\"slideInLeft\");\n    container.classList.add(\"slideOutLeft\");\n    container.addEventListener(\"animationend\", onClose, { once: true });\n  }\n\n  function onClickOnBackground(evt) {\n    const { target } = evt;\n    if (target.classList.contains(\"menu\") === false) return;\n    animateToClose();\n  }\n\n  function onEscPressed(evt) {\n    if (evt.key !== \"Escape\") return;\n    animateToClose();\n  }\n\n  function focusOnContainer() {\n    document.querySelector(\".menu__container\").focus();\n  }\n\n  function handleFormSubmition(evt) {\n    evt.preventDefault();\n  }\n\n  function onDifficultyChange(evt) {\n    const { value } = evt.target;\n    dispatchGameState({\n      type: GAME_STATE_ACTION_TYPE.CHANGE_DIFFICULTY,\n      payload: value\n    });\n  }\n\n  function reset() {\n    const msg = \"Are you sure you want to reset the score?\";\n    if (window.confirm(msg)) window.location.reload();\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onEscPressed);\n    return () => window.removeEventListener(\"keydown\", onEscPressed);\n  });\n\n  useEffect(() => {\n    const container = document.querySelector(\".menu__container\");\n    container.addEventListener(\n      \"animationend\",\n      () => {\n        container.focus();\n      },\n      { once: true }\n    );\n  });\n\n  return (\n    <div className=\"menu\" onClick={onClickOnBackground}>\n      <div tabIndex=\"0\" onFocus={focusOnContainer} />\n      <div className=\"menu__container animated slideInLeft faster\" tabIndex=\"0\">\n        <div className=\"menu__close-button\">\n          <Button onClick={animateToClose} aria-label=\"Close menu\">\n            <Icon type=\"x\" aria-hidden size={20} />\n          </Button>\n        </div>\n        <div className=\"menu__content\">\n          <form onSubmit={handleFormSubmition}>\n            <div className=\"menu__form-group\">\n              <label htmlFor=\"darkmode\">Dark Mode</label>\n              <div>\n                <input\n                  id=\"darkmode\"\n                  name=\"darkmode\"\n                  type=\"checkbox\"\n                  defaultChecked={darkTheme}\n                  onClick={() => setDarkTheme(!darkTheme)}\n                />\n              </div>\n            </div>\n            <div className=\"menu__form-group\">\n              <label htmlFor=\"difficulty\">Difficulty</label>\n              <Select\n                id=\"difficulty\"\n                name=\"difficulty\"\n                value={gameState.difficulty}\n                options={[\n                  { label: \"Easy\", value: GAME_DIFFICULTIES.EASY },\n                  { label: \"Medium\", value: GAME_DIFFICULTIES.MEDIUM },\n                  { label: \"Hard\", value: GAME_DIFFICULTIES.HARD }\n                ]}\n                onChange={onDifficultyChange}\n              />\n            </div>\n            <div className=\"menu__form-group\">\n              <label htmlFor=\"reset-score\">Reset Score</label>\n              <Button id=\"reset-score\" onClick={reset} primary>\n                Reset\n              </Button>\n            </div>\n          </form>\n          <footer className=\"menu__footer\">\n            <div>Created by Vlad Bulgakov</div>\n          </footer>\n        </div>\n        <div tabIndex=\"0\" onFocus={focusOnContainer} />\n      </div>\n    </div>\n  );\n}\n\nMenu.propTypes = {\n  onClose: PropTypes.func.isRequired\n};\n\nexport default Menu;\n","import React, {\n  useState,\n  useEffect,\n  useContext\n} from 'react';\nimport Icon from '../icon/icon';\nimport GameStateContext from '../../contexts/gameState';\nimport './score.css';\n\nfunction Score() {\n  const [gameState] = useContext(GameStateContext);\n  const [oScore, setOScore] = useState(gameState.score.you);\n  const [xScore, setXScore] = useState(gameState.score.opponent);\n\n  useEffect(() => {\n    const { you, opponent } = gameState.score;\n    if (you === oScore && opponent === xScore) return;\n\n    function transitionEnd($el) {\n      return new Promise(resolve => {\n        $el.addEventListener('transitionend', resolve, { once: true });\n      });\n    }\n\n    // Get score number and hide it\n    const $n = document.getElementById(`${you !== oScore ? 'o' : 'x'}-score`);\n    $n.classList.add('score__number--hide');\n\n    transitionEnd($n)\n      .then(() => {\n        // After the animation, we set the number\n        // to will-update position\n        $n.classList.remove('score__number--hide');\n        $n.classList.add('score__number--will-update');\n        \n        // We update the score\n        if (oScore !== you) {\n          setOScore(you);\n        } else {\n          setXScore(opponent);\n        }\n\n        // Wait for the will-update animation to end\n        return transitionEnd($n);\n      })\n      .then(() => {\n        // Number will now be shown\n        $n.classList.remove('score__number--will-update');\n      });\n  }, [gameState, oScore, setOScore, xScore, setXScore]);\n\n  return (\n    <div className=\"score\">\n      <div />\n      <div className=\"score__cell\">\n        <div className=\"score__img\">\n          <Icon\n            type=\"o\"\n            color=\"var(--primary-color)\"\n            size={40}\n          />\n        </div>\n        <div className=\"score__number-holder\">\n          <div className=\"score__number\" id=\"o-score\">\n            {oScore}\n          </div>\n        </div>\n      </div>\n      <div />\n      <div className=\"score__cell\">\n        <div className=\"score__img\">\n          <Icon\n            type=\"x\"\n            color=\"var(--secondary-color)\"\n            size={40}\n          />\n        </div>\n        <div className=\"score__number-holder\">\n          <div className=\"score__number\" id=\"x-score\">\n            {xScore}\n          </div>\n        </div>\n      </div>\n      <div />\n    </div>\n  )\n}\n\nexport default Score;","import { GAME_DIFFICULTIES } from '../contexts/gameState';\n\nfunction checkImminentWin(board) {\n  function isImminentWin(xCellname, yCellname, zCellname) {\n    const x = board[xCellname];\n    const y = board[yCellname];\n    const z = board[zCellname];\n    \n    let nOfX = 0;\n    let nOfNull = 0;\n\n    if (x === 'x') nOfX++;\n    if (y === 'x') nOfX++;\n    if (z === 'x') nOfX++;\n    if (x === null) nOfNull++;\n    if (y === null) nOfNull++;\n    if (z === null) nOfNull++;\n\n    if (nOfX === 2 && nOfNull === 1) {\n      return [\n        { name: xCellname, value: x },\n        { name: yCellname, value: y },\n        { name: zCellname, value: z },\n      ].find(c => c.value === null).name;\n    }\n\n    return false;\n  }\n\n  const possibilities = [\n    // lines\n    isImminentWin('a1', 'b1', 'c1'),\n    isImminentWin('a2', 'b2', 'c2'),\n    isImminentWin('a3', 'b3', 'c3'),\n\n    // columns\n    isImminentWin('a1', 'a2', 'a3'),\n    isImminentWin('b1', 'b2', 'b3'),\n    isImminentWin('c1', 'c2', 'c3'),\n\n    // transversal\n    isImminentWin('a1', 'b2', 'c3'),\n    isImminentWin('a3', 'b2', 'c1'),\n  ].filter(p => p !== false);\n\n  if (possibilities.length > 0) {\n    return possibilities[Math.floor(Math.random() * possibilities.length)];\n  }\n\n  return false;\n}\n\nfunction preventImminentDanger(board) {\n  function isImminentDanger(xCellname, yCellname, zCellname) {\n    const x = board[xCellname];\n    const y = board[yCellname];\n    const z = board[zCellname];\n    \n    let nOfO = 0;\n    let nOfNull = 0;\n\n    if (x === 'o') nOfO++;\n    if (y === 'o') nOfO++;\n    if (z === 'o') nOfO++;\n    if (x === null) nOfNull++;\n    if (y === null) nOfNull++;\n    if (z === null) nOfNull++;\n\n    if (nOfO === 2 && nOfNull === 1) {\n      return [\n        { name: xCellname, value: x },\n        { name: yCellname, value: y },\n        { name: zCellname, value: z },\n      ].find(c => c.value === null).name;\n    }\n\n    return false;\n  }\n\n  const possibilities = [\n    // lines\n    isImminentDanger('a1', 'b1', 'c1'),\n    isImminentDanger('a2', 'b2', 'c2'),\n    isImminentDanger('a3', 'b3', 'c3'),\n\n    // columns\n    isImminentDanger('a1', 'a2', 'a3'),\n    isImminentDanger('b1', 'b2', 'b3'),\n    isImminentDanger('c1', 'c2', 'c3'),\n\n    // transversal\n    isImminentDanger('a1', 'b2', 'c3'),\n    isImminentDanger('a3', 'b2', 'c1'),\n  ].filter(p => p !== false);\n\n  if (possibilities.length > 0) {\n    return possibilities[Math.floor(Math.random() * possibilities.length)];\n  }\n\n  return false;\n}\n\nfunction checkPossibleWin(board) {\n  function isPossibleWin(xCellname, yCellname, zCellname) {\n    const x = board[xCellname];\n    const y = board[yCellname];\n    const z = board[zCellname];\n    \n    let nOfX = 0;\n    let nOfNull = 0;\n\n    if (x === 'x') nOfX++;\n    if (y === 'x') nOfX++;\n    if (z === 'x') nOfX++;\n    if (x === null) nOfNull++;\n    if (y === null) nOfNull++;\n    if (z === null) nOfNull++;\n\n    if (nOfX === 1 && nOfNull === 2) {\n      return [\n        { name: xCellname, value: x },\n        { name: yCellname, value: y },\n        { name: zCellname, value: z },\n      ].find(c => c.value === null).name;\n    }\n\n    return false;\n  }\n\n  const possibilities = [\n    // lines\n    isPossibleWin('a1', 'b1', 'c1'),\n    isPossibleWin('a2', 'b2', 'c2'),\n    isPossibleWin('a3', 'b3', 'c3'),\n\n    // columns\n    isPossibleWin('a1', 'a2', 'a3'),\n    isPossibleWin('b1', 'b2', 'b3'),\n    isPossibleWin('c1', 'c2', 'c3'),\n\n    // transversal\n    isPossibleWin('a1', 'b2', 'c3'),\n    isPossibleWin('a3', 'b2', 'c1'),\n  ].filter(p => p !== false);\n\n  if (possibilities.length > 0) {\n    return possibilities[Math.floor(Math.random() * possibilities.length)];\n  }\n\n  return false;\n}\n\nfunction checkTheMiddle(board) {\n  return board.b2 === null\n    ? 'b2' : false;\n}\n\nfunction getRandomCell(board) {\n  const emptyCells = Object\n    .keys(board)\n    .map(key => ({ key, value: board[key] }))\n    .filter(o => o.value === null)\n    .map(o => o.key);\n  const randomIndex = Math.floor(emptyCells.length * Math.random());\n  return emptyCells[randomIndex];\n}\n\nexport default function(board, difficulty) {\n  const chance = Math.random() * 100;\n  let willUseAI = false;\n\n  // HARD\n  // No moves are Random\n  if (difficulty === GAME_DIFFICULTIES.HARD)\n    willUseAI = true;\n\n  // MEDIUM\n  // 25% of the moves are Random\n  if (difficulty === GAME_DIFFICULTIES.MEDIUM)\n    willUseAI = chance >= 25;\n\n  // EASY\n  // 50% of the moves are Random\n  if (difficulty === GAME_DIFFICULTIES.EASY)\n    willUseAI = chance >= 50;\n\n  // AI\n  //\n  // 1. Check for imminent win\n  //    When 2 cells of the row are filled\n  //    with the opponents mark, and one\n  //    is empty\n  //\n  // 2. Check for imminent danger\n  //    When 2 cells of the row are filled\n  //    with your mark, and one is empty\n  //\n  // 3. Check for possible win\n  //    When one cell of the row is filled\n  //    with your mark, and two are empty\n  //\n  // 4. Check the middle\n  //    Check the B2 cell if its not checked\n  //    To prevent the most known plays\n  //\n  // 5. Random\n  //    Pick whatever cell is empty\n\n  if (willUseAI) {\n    const imminentWin = checkImminentWin(board);\n    if (imminentWin) return imminentWin;\n\n    const imminentDanger = preventImminentDanger(board);\n    if (imminentDanger) return imminentDanger;\n\n    const possibleWin = checkPossibleWin(board);\n    if (possibleWin) return possibleWin;\n\n    const middle = checkTheMiddle(board);\n    if (middle) return middle;\n  }\n\n  return getRandomCell(board);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\nimport './cell.css';\n\nfunction Cell({\n  name,\n  value,\n  onClick,\n  disabled,\n  opaque,\n}) {\n  return (\n    <button\n      type=\"button\"\n      aria-label={Boolean(value) ? `${name}: ${value}` : 'Empty'}\n      disabled={disabled || Boolean(value)}\n      className={`cell ${opaque ? 'cell--opaque' : ''}`}\n      onClick={onClick}\n    >\n      {value\n        ? (\n          <div className=\"animated bounceIn\">\n            <Icon\n              type={value}\n              aria-hidden\n              size={50}\n              color={value === 'o'\n                ? 'var(--primary-color)'\n                : 'var(--secondary-color)'}\n            />\n          </div>\n        ) : null}\n    </button>\n  )\n}\n\nCell.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.oneOf(['x', 'o']),\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  opaque: PropTypes.bool,\n};\n\nCell.defaultProps = {\n  disabled: false,\n  value: null,\n  opaque: false,\n};\n\nexport default Cell;\n\n","import React, { useContext, useEffect } from 'react';\nimport ai from '../../libs/ai';\nimport GameStateContext, {\n  GAME_STATE_ACTION_TYPE,\n  GAME_STATE,\n} from '../../contexts/gameState';\nimport Cell from '../cell/cell';\nimport './game-grid.css';\n\nfunction GameGrid() {\n  const [gameState, dispatchGameState] = useContext(GameStateContext);\n\n  function play(target) {\n    dispatchGameState({\n      type: GAME_STATE_ACTION_TYPE.CHECK,\n      payload: {\n        target,\n        value: 'o',\n      },\n    });\n  }\n\n  useEffect(() => {\n    if (gameState.state !== GAME_STATE.OPPONENTS_TURN) return;\n    setTimeout(() => {\n      const { board, difficulty } = gameState;\n      dispatchGameState({\n        type: GAME_STATE_ACTION_TYPE.CHECK,\n        payload: {\n          target: ai(board, difficulty),\n          value: 'x',\n        },\n      });\n    }, 1000);\n  }, [gameState, dispatchGameState]);\n\n  const disabledGrid = [GAME_STATE.IDLE, GAME_STATE.YOUR_TOURN]\n    .indexOf(gameState.state) === -1;\n\n  const someonesVictory = [GAME_STATE.WIN, GAME_STATE.DEFEAT]\n    .indexOf(gameState.state) !== -1;\n\n  return (\n    <div className=\"game-grid\">\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"A1\"\n          onClick={() => play('a1')}\n          value={gameState.board.a1}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('a1') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"B1\"\n          onClick={() => play('b1')}\n          value={gameState.board.b1}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('b1') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"C1\"\n          onClick={() => play('c1')}\n          value={gameState.board.c1}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('c1') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"A2\"\n          onClick={() => play('a2')}\n          value={gameState.board.a2}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('a2') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"B2\"\n          onClick={() => play('b2')}\n          value={gameState.board.b2}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('b2') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"C2\"\n          onClick={() => play('c2')}\n          value={gameState.board.c2}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('c2') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"A3\"\n          onClick={() => play('a3')}\n          value={gameState.board.a3}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('a3') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"B3\"\n          onClick={() => play('b3')}\n          value={gameState.board.b3}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('b3') === -1}\n        />\n      </div>\n      <div className=\"game-grid__cell\">\n        <Cell\n          name=\"C3\"\n          onClick={() => play('c3')}\n          value={gameState.board.c3}\n          disabled={disabledGrid}\n          opaque={someonesVictory && gameState.winnerCells.indexOf('c3') === -1}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default GameGrid;","import React, { useContext } from 'react';\nimport GameStateContext, { GAME_STATE, GAME_STATE_ACTION_TYPE } from '../../contexts/gameState';\nimport './status.css';\n\nfunction Status() {\n  const [gameState, dispatchGameState] = useContext(GameStateContext);\n\n  function reset() {\n    dispatchGameState({\n      type: GAME_STATE_ACTION_TYPE.RESET,\n    });\n  }\n\n  function phrase() {\n    switch (gameState.state) {\n      case GAME_STATE.IDLE:\n        return 'Whenever you\\'re ready!';\n      case GAME_STATE.YOUR_TOURN:\n        return 'Your turn!';\n      case GAME_STATE.WIN:\n        return 'Victory!';\n      case GAME_STATE.DEFEAT:\n        return 'You were defeated!';\n      case GAME_STATE.DRAW:\n        return 'It\\'s a draw!';\n      default:\n        return '';\n    }\n  }\n\n  function ResetButton() {\n    switch (gameState.state) {\n      case GAME_STATE.WIN:\n        return (\n          <button\n            onClick={reset}\n            className=\"status__reset-btn\"\n          >\n            Play again!\n          </button>\n        );\n      case GAME_STATE.DEFEAT:\n        return (\n          <button\n            onClick={reset}\n            className=\"status__reset-btn status__reset-btn--red\"\n          >\n            Play again!\n          </button>\n        );\n      case GAME_STATE.DRAW:\n        return (\n          <button\n            onClick={reset}\n            className=\"status__reset-btn status__reset-btn--red\"\n          >\n            Play again!\n          </button>\n        );\n      default:\n        return null;\n    }\n  }\n\n  return <div className=\"status\">\n    <div>\n      <div>\n        {phrase()}\n      </div>\n      <div>\n        <ResetButton />\n      </div>\n    </div>\n  </div>\n};\n\nexport default Status;","import React from 'react';\nimport Score from '../score/score';\nimport GameGrid from '../game-grid/game-grid';\nimport Status from '../status/status';\nimport './game.css';\n\nfunction Game() {\n  return (\n    <div className=\"game animated zoomIn fast\">\n      <Score />\n      <GameGrid />\n      <Status />\n    </div>\n  )\n}\n\nexport default Game;","import React, { useState, useEffect, useReducer } from 'react';\nimport DarkThemeContext from '../../contexts/darkTheme';\nimport GameStateContext, {\n  dispatcher as gameStateDispatcher,\n  defaultValue as gameStateDefaultValue,\n} from '../../contexts/gameState';\nimport Button from '../button/button';\nimport Icon from '../icon/icon';\nimport Menu from '../menu/menu';\nimport Game from '../game/game';\nimport './app.css';\n\nfunction App() {\n  const [darkTheme, setDarkTheme] = useState(Boolean(localStorage.getItem('darktheme')));\n  const [menu, setMenu] = useState(false);\n  const [noOutlines, setNoOutlines] = useState(false);\n  const [gameState, dispatchGameState] = useReducer(gameStateDispatcher, gameStateDefaultValue);\n\n  function closeMenu() {\n    setMenu(false);\n    document.querySelector('.app__menu-button button').focus();\n  }\n\n  useEffect(() => {\n    function enableOutlines() {\n      if (noOutlines === false) return;\n      setNoOutlines(false);\n    }\n\n    function disableOutlines() {\n      if (noOutlines === true) return;\n      setNoOutlines(true);\n    }\n\n    function onTabPress(evt) {\n      if (evt.key !== 'Tab') return;\n      enableOutlines();\n    }\n\n    window.addEventListener('mousemove', disableOutlines);\n    window.addEventListener('touchstart', disableOutlines);\n    window.addEventListener('keydown', onTabPress);\n    return () => {\n      window.removeEventListener('mousemove', disableOutlines);\n      window.removeEventListener('touchstart', disableOutlines);\n      window.removeEventListener('keydown', onTabPress);\n    };\n  }, [noOutlines]);\n\n  useEffect(() => {\n    document.body.style.backgroundColor = darkTheme\n      ? '#000'\n      : '#FFF';\n    if (darkTheme) localStorage.setItem('darktheme', '1');\n    else localStorage.removeItem('darktheme');\n  }, [darkTheme]);\n\n  return (\n    <DarkThemeContext.Provider value={[darkTheme, setDarkTheme]}>\n      <GameStateContext.Provider value={[gameState, dispatchGameState]}>\n        <div className={'app ' +\n          (darkTheme ? 'app--dark-theme ' : '') +\n          (noOutlines ? 'app--no-outlines ' : '')\n        }>\n          {menu\n            ? <Menu\n                onClose={closeMenu}\n                darkTheme={darkTheme}\n                toggleDarkTheme={() => setDarkTheme(!darkTheme)}\n              />\n            : null}\n          <div className=\"app__content\">\n            <Game />\n          </div>\n          <div className=\"app__menu-button\">\n            <Button\n              onClick={() => setMenu(true)}\n              aria-label=\"Open menu\"\n            >\n              <Icon\n                type=\"menu\"\n                aria-hidden\n                size={20}\n              />\n            </Button>\n          </div>\n        </div>\n      </GameStateContext.Provider>\n    </DarkThemeContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport * as serviceWorker from './serviceWorker';\nimport 'animate.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.register();\n"],"sourceRoot":""}